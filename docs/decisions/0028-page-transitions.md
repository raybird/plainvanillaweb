# ADR 0028: 原生頁面過渡動畫 (Native Page Transitions)

## 上下文
在單頁應用 (SPA) 中，路由切換往往是瞬間完成的，這雖然快速，但在視覺上可能顯得生硬。為了提升應用的細緻度與使用者體驗，我們需要一套簡潔且不影響性能的過渡動畫機制。

## 決策
採用現代瀏覽器原生的 **`View Transitions API`**。
1.  **漸進式增強**: 在 `x-switch` 組件中偵測支援性。若瀏覽器不支援（如 Safari 舊版），則直接執行無動畫的 DOM 更新，確保功能完備。
2.  **封裝更新邏輯**: 使用 `document.startViewTransition()` 包裹路由切換時的 DOM 操作。這會讓瀏覽器自動捕捉前後狀態並產生平滑的過渡。
3.  **CSS 動畫定義**: 在 `index.css` 中利用 `::view-transition-*` 偽元素定義自訂的淡入淡出與位移效果，取代瀏覽器預設的過度。

## 後果
- **優點**: 零依賴實作了高品質的 UI 動畫，且完全不影響應用的啟動速度或體積。
- **優點**: 作為教學範例，展示了 Web 標準中最新的動畫處理方案。
- **缺點**: 對於不支援該 API 的瀏覽器，使用者將看到傳統的瞬間切換（這在 Vanilla 精神中是完全可接受的優雅降級）。
