# ADR 0041: 原生程式碼遊樂場 (Native Live Code Playground)

## 上下文
作為一個教學平台，讓使用者能即時撰寫並測試原生代碼（HTML/CSS/JS）是極具價值的。傳統方案（如 CodePen 或 JSFiddle）依賴複雜的後端基礎設施與客戶端編輯器。我們需要一個輕量級、純原生的方案。

## 決策
實作基於 **Blob API** 的 `PlaygroundService`：
1.  **動態預覽**: 將文字格式的程式碼組合為完整的 HTML 字串，封裝入 `Blob` 物件。
2.  **記憶體網址**: 利用 `URL.createObjectURL` 為該 Blob 建立一個臨時網址，並賦予 Iframe 的 `src` 屬性。
3.  **環境隔離**: 透過 Iframe 提供獨立的執行上下文，避免開發者撰寫的程式碼汙染主應用環境。
4.  **資源管理**: 在組件銷毀時透過 `URL.revokeObjectURL` 釋放記憶體，避免洩漏。

## 後果
- **優點**: 實現了完全在客戶端運行的即時編譯環境，零後端成本。
- **優點**: 體現了原生 Web API（Blob, ObjectURL）在處理動態內容方面的強大靈活性。
- **優點**: 為教學提供了高度互動的動手實驗區。
- **缺點**: 受限於 `textarea` 的基礎編輯能力（無高亮與自動補全），未來可考慮整合輕量級代碼高亮（但需權衡 Vanilla 精神）。
