# ADR 0052: 原生 Web Bluetooth 與裝置通訊整合

## 上下文
隨著網頁技術的演進，瀏覽器已具備與實體硬體溝通的能力。傳統上，與硬體互動需要原生應用程式或特定的驅動程式。Web Bluetooth API 提供了讓網頁應用程式直接搜尋、連線並與鄰近藍牙裝置交換數據的標準方案。

## 決策
1.  **實作 BluetoothService**: 封裝 `navigator.bluetooth.requestDevice` 與 GATT 連線邏輯，提供裝置搜尋、服務探索與特徵值讀寫的統一接口。
2.  **安全性整合**: 確保所有的藍牙操作均在使用者明確互動（如按鈕點擊）下觸發，並僅在安全上下文 (HTTPS) 下運作。
3.  **教學單元實作**: 在實驗室 (Lab) 中提供「藍牙裝置掃描器」範例，展示如何獲取裝置名稱、訊號強度與支援的服務。

## 後果
- **優點**: 展示了網頁應用程式在控制實體裝置（如智慧燈泡、感測器）上的無限可能。
- **優點**: 進一步強化了 `plainvanillaweb` 作為「全方位原生技術展示平台」的地位。
- **缺點**: 受限於隱私權與安全策略，Web Bluetooth 在部分平台（如 iOS 的所有瀏覽器、Firefox）仍不支援或處於實驗階段。
- **缺點**: 裝置相容性測試成本較高，且需要實體藍牙裝置配合（本專案將實作模擬或常見 Heart Rate 服務偵測）。
