# ADR 0081: 數據壓縮流實驗室整合

## 狀態

已接受 (Accepted)

## 背景

`plainvanillaweb` 已在 `lib/compression-service.js` 中實作了 Compression Streams API 的基礎封裝。這是一個現代瀏覽器提供的原生 API，允許開發者以流 (Stream) 的方式對數據進行 Gzip 或 Deflate 壓縮與解壓縮。這對於減少網路傳輸頻寬、優化 IndexedDB 儲存空間以及處理大型文字日誌具有重要意義。

## 決策

建立一個專屬的數據壓縮實驗室頁面，展示即時壓縮效能。

1.  **實作目標**：建立 `CompressionPage.js`，提供文字輸入區與壓縮/解壓縮操作。
2.  **效能指標**：視覺化顯示「原始大小」與「壓縮後大小」，並計算壓縮率。
3.  **格式支援**：預設使用 `gzip` 格式，展示原生 API 的標準相容性。
4.  **三位一體同步**：確保該頁面能透過 `#/lab/compression` 直接存取，並更新 `ROADMAP.md` 與導覽連結。

## 後果

- **優點**：展示網頁已具備處理工業級數據壓縮的能力，且完全無需額外的 `zlib` 或 `pako` 等第三方函式庫。
- **缺點**：主要適用於二進位數據與大型字串，對於極短文字的壓縮效果不明顯（甚至可能因標頭開銷而變大），需在教學中註明。
