# ADR 0092: 實作 BaseComponent 反應式深度觀察與效能優化

## 狀態
已接受 (Accepted)

## 背景
專案已進入「架構與教育」階段。雖然 `BaseComponent` 提供了基礎的反應式狀態，但在處理深層物件變更時仍依賴全量重繪，且缺乏對開發者友善的狀態追蹤機制。為了提升教學價值與效能，需要對核心基底類別進行升級。

## 決策
升級 `BaseComponent` 以支援更細粒度的更新與開發者除錯：
1. **深度 Proxy 觀察**：實作遞迴 Proxy，確保深層屬性變更也能觸發 `update()`。
2. **非同步渲染排程**：引入 `requestAnimationFrame` 緩衝狀態變更，避免同一事件循環內多次修改導致的重複重繪。
3. **狀態追蹤 (State Hook)**：新增 `onStateChange` 生命週期，方便開發者監控數據流向。
4. **教學同步**：更新 `component-architecture.md` 詳解深層反應式原理。

## 後果
- **優點**：大幅提昇複雜組件的開發效率與執行效能，提供更精準的原生狀態管理範式。
- **缺點**：Proxy 的遞迴建立在極深物件上會有微量開銷，但對於 UI 狀態管理而言利大於弊。
