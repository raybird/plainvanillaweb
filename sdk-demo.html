<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vanilla SDK æ¥å…¥ç¤ºç¯„</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; line-height: 1.6; }
        .card { border: 1px solid #eee; padding: 1.5rem; border-radius: 12px; background: #fafafa; margin-top: 2rem; }
        pre { background: #272822; color: #f8f8f2; padding: 1rem; border-radius: 8px; overflow-x: auto; font-size: 0.9rem; }
        code { font-family: 'Fira Code', monospace; }
        button { background: #007bff; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; }
        .success { color: green; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ¦ Vanilla SDK æ¥å…¥ç¤ºç¯„</h1>
    <p>é€™æ˜¯ä¸€å€‹ç¨ç«‹çš„ HTML æª”æ¡ˆï¼Œå±•ç¤ºäº†å¦‚ä½•åƒä½¿ç”¨ CDN åº«ä¸€æ¨£å¼•ç”¨ <code>plainvanillaweb</code> çš„æ ¸å¿ƒæ¨¡çµ„ã€‚</p>

    <div class="card">
        <h3>1. å¼•å…¥ SDK</h3>
        <pre><code>import { cryptoService } from './lib/vanilla-sdk.js';</code></pre>
    </div>

    <div class="card">
        <h3>2. å³æ™‚æ¸¬è©¦ï¼šåŸç”ŸåŠ å¯†</h3>
        <p>é»æ“ŠæŒ‰éˆ•ï¼Œä½¿ç”¨ <code>Web Crypto API</code> (AES-GCM) é€²è¡ŒåŠ å¯†ï¼š</p>
        <button id="testBtn">åŸ·è¡ŒåŠ å¯†æ¸¬è©¦</button>
        <div id="result" style="margin-top: 1rem;"></div>
    </div>

    <script type="module">
        // æ¨¡æ“¬å¤–éƒ¨å¼•ç”¨
        import { cryptoService } from './lib/vanilla-sdk.js';

        document.getElementById('testBtn').addEventListener('click', async () => {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'æ­£åœ¨åŠ å¯†...';

            try {
                const text = "é€™æ˜¯ä¾†è‡ª SDK çš„ç§˜å¯†è¨Šæ¯";
                const pass = "sdk-password-123";
                
                const { ciphertext } = await cryptoService.encrypt(text, pass);
                
                resultDiv.innerHTML = `
                    <p class="success">âœ… åŠ å¯†æˆåŠŸï¼</p>
                    <p><strong>å¯†æ–‡ (Base64):</strong></p>
                    <pre><code>${ciphertext}</code></pre>
                `;
            } catch (err) {
                resultDiv.innerHTML = `<span style="color:red">éŒ¯èª¤: ${err.message}</span>`;
            }
        });
    </script>
</body>
</html>
